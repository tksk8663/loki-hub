# Zabbix 統合監視ツール

このツールは、複数の異なるバージョンの Zabbix サーバーを一元的に管理・設定できる統合管理ツールです。<br>
構成管理やログの集約、バージョン差異の吸収を通じて、監視の自動化と運用の効率化を実現します。

開発中の環境： <https://tkst-kwsk.org/loki-hub>

---

## 🔧 主な機能

- ✅ **複数バージョンの Zabbix を透過的に管理**
- ✅ **Redis によるアラートの集約処理**
- ✅ **REST API による構成設定の自動追加**
- ✅ **機器種別ごとのデフォルト監視テンプレート**
- ✅ **Zabbix バージョン差異を YAML で吸収し統一管理**
- ✅ **Web UI から接続確認・Zabbix の追加が可能**

---

## バージョン差異の吸収について

本ツールでは、異なるバージョンの Zabbix サーバー間での監視設定の違いを自動的に吸収します。<br>
ユーザーは対象の Zabbix バージョンを意識することなく、一つの統一された設定を入力するだけで構いません。

具体的には：

- ツールが Zabbix サーバーの API からバージョン情報を取得し、自動的にバージョンを判別
- バージョンごとの監視項目の差異は、内部で用意した YAML 形式のバージョン別テンプレートで補完
- これにより、CPU やディスクなどの監視設定がバージョンに依存せずに正しく反映される
- 設定の投入先を指定するだけで、バージョンに合わせた最適な設定を自動生成するため、バージョンアップや Zabbix の引っ越し時の作業負担を大幅に軽減

この仕組みにより、管理者はバージョン差異に頭を悩ませることなく、一元的に Zabbix 環境を運用できます。

---

## 📁 ログファイルの出力について

**セキュリティ上の理由から、ログファイルは必ず `./logs` ディレクトリに出力してください。**<br>
Deno は厳格なファイルアクセス権限を持つため、実行時には以下のように出力先を制限しています：

```bash
deno run prd

"prd": "deno run --allow-net --allow-read --allow-write=logs main.ts"
```
